var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},r={},n=t.parcelRequired7c6;null==n&&((n=function(t){if(t in e)return e[t].exports;if(t in r){var n=r[t];delete r[t];var s={id:t,exports:{}};return e[t]=s,n.call(s.exports,s,s.exports),s.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){r[t]=e},t.parcelRequired7c6=n);var s=n("bcxib"),o=n("gye1E"),i=n("lHsho");const a={cartList:document.querySelector("#cart-list"),showMoreBtn:document.querySelector("#products-show-more"),total:document.querySelector("#total")};function c(){const t=function(){const t=(0,s.getProducts)(),e=(0,o.getCart)();return Object.keys(e).map(Number).reduce(((r,n)=>{const s=t.find((t=>t.id===n)),o=e[n];return r+s.price.amount*o}),0)}();a.total.textContent=t?`Загальна сумма: ${t} грн`:""}function d(){const t=(0,s.getProducts)(),e=(0,o.getCart)(),r=Object.keys(e).map(Number);if(!r.length)return a.cartList.insertAdjacentHTML("beforeend",'<h3 class="catalog__list-item">Спочатку додайте товари в кошик</h3>'),void c();const n=r.map((r=>{const n=t.find((t=>t.id===r)),s=e[r],{name:o,price:i,img:a}=n;return`<li class="products-list__item js-cart-item">\n        <img\n          src="${a}"\n          alt="${o}"\n          width="80"\n          class="products-list__img"\n        />\n        <h4 class="products-list__title">${o}</h4>\n        <div class="products-list__amount form-input">\n          <label for="product"></label>\n          <input name="product" value="${s}" data-id="${n.id}" class="form-input__input js-amount-iput" type="number" />\n        </div>\n        <div class="products-list__price">${i.amount} ${i.currency}</div>\n        <a href="#" class="js-remove-from-cart products-list__remove-button" data-id="${n.id}"></a>\n      </li>`})).join("");a.cartList.insertAdjacentHTML("beforeend",n),c()}function l(){Object.keys((0,o.getCart)()).length||(a.cartList.innerHTML="",d())}a.cartList.addEventListener("click",(t=>{t.target.classList.contains("js-remove-from-cart")&&((0,i.removeFromCart)(t.target.dataset.id),t.target.closest(".js-cart-item").remove(),c(),l())}),!0),a.cartList.addEventListener("change",(t=>{if(t.target.classList.contains("js-amount-iput")){const e=Number(t.target.dataset.id),r=Number(t.target.value);r?((0,i.setAmount)(e,r),c()):((0,i.removeFromCart)(t.target.dataset.id),t.target.closest(".js-cart-item").remove(),c(),l())}})),d();
//# sourceMappingURL=cart.a6cfe5c6.js.map
